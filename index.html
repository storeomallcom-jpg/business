<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dev Storeomall V11 | AI Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.7.0/index.umd.min.js"></script>
    <style>
        body { background: radial-gradient(circle at top, #1a1a2e, #16213e, #0f3460); color: white; min-height: 100vh; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .gradient-text { background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    </style>
</head>
<body>

    <div id="landing" class="container mx-auto px-6 py-20 text-center">
        <h1 class="text-6xl font-extrabold mb-6 gradient-text">Dev Storeomall V11</h1>
        <p class="text-xl text-gray-400 mb-10">منصة الذكاء الاصطناعي المتطورة بمعدل ذكاء رقمي فائق.</p>
        <button id="showAuthBtn" class="bg-blue-600 hover:bg-blue-700 px-8 py-4 rounded-full font-bold transition-all transform hover:scale-105">ابدأ الآن مجاناً</button>
    </div>

    <div id="dashboard" class="hidden container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
            <aside class="lg:col-span-1 space-y-6">
                <div class="glass p-6 rounded-3xl text-center">
                    <p class="text-gray-400 text-sm mb-2">رصيدك الحالي</p>
                    <h2 class="text-3xl font-bold"><span id="balance">0.00</span> <span class="text-sm text-blue-400 font-normal">Token</span></h2>
                </div>
                <div class="glass p-6 rounded-3xl">
                    <h3 class="font-bold mb-4">نظام الأفلييت</h3>
                    <p class="text-xs text-gray-400 mb-2">رابط الإحالة الخاص بك:</p>
                    <div id="refLink" class="bg-black/30 p-2 rounded text-[10px] break-all mb-4 text-blue-300">سجل الدخول لرؤية الرابط</div>
                </div>
                <button id="logoutBtn" class="w-full py-3 text-red-400 hover:text-red-300 transition">تسجيل الخروج</button>
            </aside>

            <main class="lg:col-span-3 glass rounded-3xl p-6 flex flex-col h-[70vh]">
                <div id="chatMessages" class="flex-grow overflow-y-auto space-y-4 mb-4 p-2 custom-scrollbar">
                    </div>
                <div class="relative">
                    <input id="chatInput" type="text" placeholder="اسألني أي شيء..." class="w-full bg-white/10 border border-white/10 rounded-2xl px-6 py-4 focus:outline-none focus:border-blue-500 transition shadow-2xl">
                    <button id="sendChatBtn" class="absolute left-2 top-2 bg-blue-600 p-2 rounded-xl px-6 h-10 hover:bg-blue-700 transition">إرسال</button>
                </div>
            </main>
        </div>
    </div>

    <div id="authModal" class="hidden fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50">
        <div class="glass w-full max-w-md p-8 rounded-3xl relative">
            <button id="closeAuthModal" class="absolute top-4 right-4 text-gray-500 hover:text-white">✕</button>
            <h2 class="text-2xl font-bold mb-6 text-center">مرحباً بك مجدداً</h2>
            <div id="authMsg" class="text-sm mb-4 text-center"></div>
            <input id="email" type="email" placeholder="البريد الإلكتروني" class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 mb-4 focus:outline-none">
            <input id="password" type="password" placeholder="كلمة المرور" class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 mb-6 focus:outline-none">
            <div class="grid grid-cols-2 gap-4">
                <button id="signInBtn" class="bg-blue-600 py-3 rounded-xl font-bold">دخول</button>
                <button id="signUpBtn" class="bg-white/10 py-3 rounded-xl font-bold border border-white/10">تسجيل جديد</button>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
